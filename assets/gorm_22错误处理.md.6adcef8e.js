import{_ as s,c as n,o as a,a as l}from"./app.78cd51cb.js";const u=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[{"level":3,"title":"1.\u5904\u7406\u9519\u8BEF","slug":"_1-\u5904\u7406\u9519\u8BEF","link":"#_1-\u5904\u7406\u9519\u8BEF","children":[]},{"level":3,"title":"2.\u9519\u8BEF\u5904\u7406","slug":"_2-\u9519\u8BEF\u5904\u7406","link":"#_2-\u9519\u8BEF\u5904\u7406","children":[]},{"level":3,"title":"3.ErrRecordNotFound","slug":"_3-errrecordnotfound","link":"#_3-errrecordnotfound","children":[]}],"relativePath":"gorm/22\u9519\u8BEF\u5904\u7406.md"}'),o={name:"gorm/22\u9519\u8BEF\u5904\u7406.md"},e=l(`<h3 id="_1-\u5904\u7406\u9519\u8BEF" tabindex="-1">1.\u5904\u7406\u9519\u8BEF <a class="header-anchor" href="#_1-\u5904\u7406\u9519\u8BEF" aria-hidden="true">#</a></h3><ul><li>\u5728 Go \u4E2D\uFF0C\u5904\u7406\u9519\u8BEF\u662F\u5F88\u91CD\u8981\u7684\u3002</li><li>\u6211\u4EEC\u9F13\u52B1\u5728\u8C03\u7528\u4EFB\u4F55 Finisher \u65B9\u6CD5\u540E\uFF0C\u90FD\u8FDB\u884C\u9519\u8BEF\u68C0\u67E5</li></ul><h3 id="_2-\u9519\u8BEF\u5904\u7406" tabindex="-1">2.\u9519\u8BEF\u5904\u7406 <a class="header-anchor" href="#_2-\u9519\u8BEF\u5904\u7406" aria-hidden="true">#</a></h3><ul><li><code>GORM</code>\u7684\u9519\u8BEF\u5904\u7406\u4E0E\u5E38\u89C1\u7684 GO \u4EE3\u7801\u4E0D\u540C\uFF0C\u56E0\u4E3A GORM \u63D0\u4F9B\u7684\u662F\u94FE\u5F0F API</li><li>\u5982\u679C\u9047\u5230\u4EFB\u4F55\u9519\u8BEF\uFF0CGORM \u4F1A\u8BBE\u7F6E<code>*gorm.DB</code> \u7684 Error \u5B57\u6BB5\uFF0C\u4F60\u9700\u8981\u8FD9\u6837\u68C0\u67E5\u5B83</li></ul><div class="language-go line-numbers-mode"><button class="copy"></button><span class="lang">go</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> err </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Where</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name = ?</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jinzhu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">First</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">).</span><span style="color:#A6ACCD;">Error</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> err </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">// \u5904\u7406\u9519\u8BEF...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li>\u6216\u8005</li></ul><div class="language-go line-numbers-mode"><button class="copy"></button><span class="lang">go</span><pre><code><span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> result </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Where</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">name = ?</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">jinzhu</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">First</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> result</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Error </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">nil{</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#676E95;">// \u9519\u8BEF\u5904\u7406...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="_3-errrecordnotfound" tabindex="-1">3.ErrRecordNotFound <a class="header-anchor" href="#_3-errrecordnotfound" aria-hidden="true">#</a></h3><ul><li>\u5F53<code>First</code>, <code>Last</code>, <code>Take</code>\u65B9\u6CD5\u627E\u4E0D\u5230\u8BB0\u5F55\u65F6\uFF0CGORM \u4F1A\u8FD4\u56DE<code>ErrRecordNotFound</code>\u9519\u8BEF\uFF0C\u5982\u679C\u53D1\u751F\u4E86\u591A\u4E2A\u9519\u8BEF\uFF0C\u4F60\u53EF\u4EE5\u901A\u8FC7 <a href="http://errors.Is" target="_blank" rel="noreferrer">errors.Is</a> \u5224\u65AD\u9519\u8BEF\u662F\u5426\u4E3A ErrRecordNotFound,\u4F8B\u5982\uFF1A</li></ul><div class="language-go line-numbers-mode"><button class="copy"></button><span class="lang">go</span><pre><code><span class="line"><span style="color:#676E95;">// \u68C0\u67E5\u9519\u8BEF\u662F\u5426\u4E3A RecordNotFound</span></span>
<span class="line"><span style="color:#A6ACCD;">err </span><span style="color:#89DDFF;">:=</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">First</span><span style="color:#89DDFF;">(&amp;</span><span style="color:#A6ACCD;">user</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">).</span><span style="color:#A6ACCD;">Error</span></span>
<span class="line"><span style="color:#A6ACCD;">errors</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">Is</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">err</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> gorm</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ErrRecordNotFound</span><span style="color:#89DDFF;">)</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div>`,10),p=[e];function r(c,t,D,F,i,d){return a(),n("div",null,p)}const A=s(o,[["render",r]]);export{u as __pageData,A as default};
